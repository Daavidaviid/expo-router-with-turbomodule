{"version":3,"names":["useDerivedValueOnJS","fn","deps","init","useMemo","value","useSharedValue","useEffect","mapperId","startMapper","runOnJS","stopMapper"],"sources":["useDerivedValueOnJS.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\";\n\nimport {\n  useSharedValue,\n  runOnJS,\n  startMapper,\n  stopMapper,\n} from \"./moduleWrapper\";\n\nexport const useDerivedValueOnJS = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fn: () => any,\n  deps: unknown[]\n) => {\n  const init = useMemo(() => fn(), [fn]);\n  const value = useSharedValue(init);\n  useEffect(() => {\n    const mapperId = startMapper(() => {\n      \"worklet\";\n      runOnJS(fn)();\n    }, deps);\n    return () => stopMapper(mapperId);\n  }, [deps, fn]);\n  return value;\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAOO,MAAMA,mBAAmB,GAAG,CAEjCC,EAFiC,EAGjCC,IAHiC,KAI9B;EACH,MAAMC,IAAI,GAAG,IAAAC,cAAA,EAAQ,MAAMH,EAAE,EAAhB,EAAoB,CAACA,EAAD,CAApB,CAAb;EACA,MAAMI,KAAK,GAAG,IAAAC,6BAAA,EAAeH,IAAf,CAAd;EACA,IAAAI,gBAAA,EAAU,MAAM;IACd,MAAMC,QAAQ,GAAG,IAAAC,0BAAA,EAAY,MAAM;MACjC;;MACA,IAAAC,sBAAA,EAAQT,EAAR;IACD,CAHgB,EAGdC,IAHc,CAAjB;IAIA,OAAO,MAAM,IAAAS,yBAAA,EAAWH,QAAX,CAAb;EACD,CAND,EAMG,CAACN,IAAD,EAAOD,EAAP,CANH;EAOA,OAAOI,KAAP;AACD,CAfM"}
{"version":3,"names":["HostObject","JsiSkMatrix","constructor","CanvasKit","ref","preMultiply","matrix","set","Matrix","multiply","postMultiply","concat","fromValue","translate","x","y","translated","postTranslate","scale","scaled","postScale","skew","skewed","postSkew","rotate","value","rotated","postRotate","identity","get","Array","from"],"sources":["JsiSkMatrix.ts"],"sourcesContent":["import type { CanvasKit, Matrix3x3 } from \"canvaskit-wasm\";\n\nimport type { SkMatrix } from \"../types\";\n\nimport { HostObject } from \"./Host\";\n\nexport class JsiSkMatrix\n  extends HostObject<Matrix3x3, \"Matrix\">\n  implements SkMatrix\n{\n  constructor(CanvasKit: CanvasKit, ref: Matrix3x3) {\n    super(CanvasKit, ref, \"Matrix\");\n  }\n\n  private preMultiply(matrix: number[]) {\n    this.ref.set(this.CanvasKit.Matrix.multiply(this.ref, matrix));\n  }\n\n  private postMultiply(matrix: number[]) {\n    this.ref.set(this.CanvasKit.Matrix.multiply(matrix, this.ref));\n  }\n\n  dispose = () => {\n    // Do nothing - the matrix is represenetd by a Float32Array\n  };\n\n  concat(matrix: SkMatrix) {\n    this.preMultiply(JsiSkMatrix.fromValue(matrix));\n    return this;\n  }\n\n  translate(x: number, y: number) {\n    this.preMultiply(this.CanvasKit.Matrix.translated(x, y));\n    return this;\n  }\n\n  postTranslate(x: number, y: number) {\n    this.postMultiply(this.CanvasKit.Matrix.translated(x, y));\n    return this;\n  }\n\n  scale(x: number, y?: number) {\n    this.preMultiply(this.CanvasKit.Matrix.scaled(x, y ?? x));\n    return this;\n  }\n\n  postScale(x: number, y?: number) {\n    this.postMultiply(this.CanvasKit.Matrix.scaled(x, y ?? x));\n    return this;\n  }\n\n  skew(x: number, y: number) {\n    this.preMultiply(this.CanvasKit.Matrix.skewed(x, y));\n    return this;\n  }\n\n  postSkew(x: number, y: number) {\n    this.postMultiply(this.CanvasKit.Matrix.skewed(x, y));\n    return this;\n  }\n\n  rotate(value: number) {\n    this.preMultiply(this.CanvasKit.Matrix.rotated(value));\n    return this;\n  }\n\n  postRotate(value: number) {\n    this.postMultiply(this.CanvasKit.Matrix.rotated(value));\n    return this;\n  }\n\n  identity() {\n    this.ref.set(this.CanvasKit.Matrix.identity());\n    return this;\n  }\n\n  get() {\n    return Array.from(this.ref);\n  }\n}\n"],"mappings":";;AAIA,SAASA,UAAT,QAA2B,QAA3B;AAEA,OAAO,MAAMC,WAAN,SACGD,UADH,CAGP;EACEE,WAAW,CAACC,SAAD,EAAuBC,GAAvB,EAAuC;IAChD,MAAMD,SAAN,EAAiBC,GAAjB,EAAsB,QAAtB;;IADgD,iCAYxC,MAAM,CACd;IACD,CAdiD;EAEjD;;EAEOC,WAAW,CAACC,MAAD,EAAmB;IACpC,KAAKF,GAAL,CAASG,GAAT,CAAa,KAAKJ,SAAL,CAAeK,MAAf,CAAsBC,QAAtB,CAA+B,KAAKL,GAApC,EAAyCE,MAAzC,CAAb;EACD;;EAEOI,YAAY,CAACJ,MAAD,EAAmB;IACrC,KAAKF,GAAL,CAASG,GAAT,CAAa,KAAKJ,SAAL,CAAeK,MAAf,CAAsBC,QAAtB,CAA+BH,MAA/B,EAAuC,KAAKF,GAA5C,CAAb;EACD;;EAMDO,MAAM,CAACL,MAAD,EAAmB;IACvB,KAAKD,WAAL,CAAiBJ,WAAW,CAACW,SAAZ,CAAsBN,MAAtB,CAAjB;IACA,OAAO,IAAP;EACD;;EAEDO,SAAS,CAACC,CAAD,EAAYC,CAAZ,EAAuB;IAC9B,KAAKV,WAAL,CAAiB,KAAKF,SAAL,CAAeK,MAAf,CAAsBQ,UAAtB,CAAiCF,CAAjC,EAAoCC,CAApC,CAAjB;IACA,OAAO,IAAP;EACD;;EAEDE,aAAa,CAACH,CAAD,EAAYC,CAAZ,EAAuB;IAClC,KAAKL,YAAL,CAAkB,KAAKP,SAAL,CAAeK,MAAf,CAAsBQ,UAAtB,CAAiCF,CAAjC,EAAoCC,CAApC,CAAlB;IACA,OAAO,IAAP;EACD;;EAEDG,KAAK,CAACJ,CAAD,EAAYC,CAAZ,EAAwB;IAC3B,KAAKV,WAAL,CAAiB,KAAKF,SAAL,CAAeK,MAAf,CAAsBW,MAAtB,CAA6BL,CAA7B,EAAgCC,CAAhC,aAAgCA,CAAhC,cAAgCA,CAAhC,GAAqCD,CAArC,CAAjB;IACA,OAAO,IAAP;EACD;;EAEDM,SAAS,CAACN,CAAD,EAAYC,CAAZ,EAAwB;IAC/B,KAAKL,YAAL,CAAkB,KAAKP,SAAL,CAAeK,MAAf,CAAsBW,MAAtB,CAA6BL,CAA7B,EAAgCC,CAAhC,aAAgCA,CAAhC,cAAgCA,CAAhC,GAAqCD,CAArC,CAAlB;IACA,OAAO,IAAP;EACD;;EAEDO,IAAI,CAACP,CAAD,EAAYC,CAAZ,EAAuB;IACzB,KAAKV,WAAL,CAAiB,KAAKF,SAAL,CAAeK,MAAf,CAAsBc,MAAtB,CAA6BR,CAA7B,EAAgCC,CAAhC,CAAjB;IACA,OAAO,IAAP;EACD;;EAEDQ,QAAQ,CAACT,CAAD,EAAYC,CAAZ,EAAuB;IAC7B,KAAKL,YAAL,CAAkB,KAAKP,SAAL,CAAeK,MAAf,CAAsBc,MAAtB,CAA6BR,CAA7B,EAAgCC,CAAhC,CAAlB;IACA,OAAO,IAAP;EACD;;EAEDS,MAAM,CAACC,KAAD,EAAgB;IACpB,KAAKpB,WAAL,CAAiB,KAAKF,SAAL,CAAeK,MAAf,CAAsBkB,OAAtB,CAA8BD,KAA9B,CAAjB;IACA,OAAO,IAAP;EACD;;EAEDE,UAAU,CAACF,KAAD,EAAgB;IACxB,KAAKf,YAAL,CAAkB,KAAKP,SAAL,CAAeK,MAAf,CAAsBkB,OAAtB,CAA8BD,KAA9B,CAAlB;IACA,OAAO,IAAP;EACD;;EAEDG,QAAQ,GAAG;IACT,KAAKxB,GAAL,CAASG,GAAT,CAAa,KAAKJ,SAAL,CAAeK,MAAf,CAAsBoB,QAAtB,EAAb;IACA,OAAO,IAAP;EACD;;EAEDC,GAAG,GAAG;IACJ,OAAOC,KAAK,CAACC,IAAN,CAAW,KAAK3B,GAAhB,CAAP;EACD;;AArEH"}